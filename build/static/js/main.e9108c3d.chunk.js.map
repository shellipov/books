{"version":3,"sources":["components/Header/index.js","components/Footer/index.js","components/BookList/index.js","images/book.jpg","components/Modal/index.js","components/AddBook/index.js","components/EditBook/index.js","redux/actionTypes.js","redux/reducers/mainReducer.js","redux/store.js","App.js","index.js"],"names":["Header","className","exact","path","to","Footer","BookList","history","useHistory","useState","JSON","parse","window","localStorage","getItem","books","setBooks","sortBy","setSortBy","sort","sort_type","sortValues","split","newBooksList","sortBooksList","a","b","setItem","stringify","useEffect","onChange","e","target","value","selected","map","book","id","src","book_image","alt","onError","console","log","book_name","autors","page_number","publisher_name","year_of_publishing","onClick","push","bookToBeDeleted","find","bookIndex","indexOf","newBookList","splice","deleteBook","Modal","setModalVisible","message","ReactDom","createPortal","type","document","getElementById","AddBook","initialInputs","inputs","setInputs","year","Date","getFullYear","error","setError","modalVisible","isImageLoad","setIsImageLoad","changeInputValue","name","onSubmit","preventDefault","errors","length","word","data","toJSON","replace","required","placeholder","maxlength","min","max","onLoad","hidden","EditBook","useParams","editableBook","EditableBook","indexEditableBook","START_LOADING","SUCCESSFUL_LOADING","LOADING_ERROR","init","loading","store","createStore","combineReducers","main","state","action","payload","composeWithDevTools","applyMiddleware","thunk","App","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e9108c3d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport \"./style.scss\";\n\nfunction Header() {\n  return (\n    <header>\n      <div className=\"row align-items-center\">\n        <div className=\"col lg-6\">\n          <div className=\"title\">Редактор книг</div>\n        </div>\n        <div className=\"col lg-6 \">\n          <Route exact path=\"/\">\n            <Link\n              className=\"btn btn-primary btn-sm add_book_botton\"\n              to=\"/add_book\"\n            >\n              Добавить книгу\n            </Link>\n          </Route>\n\n          <Route exact path=\"/add_book\">\n            <Link className=\"btn btn-primary btn-sm add_book_botton\" to=\"/\">\n              Список книг\n            </Link>\n          </Route>\n\n          <Route exact path=\"/edit_book:id\">\n            <Link className=\"btn btn-primary btn-sm add_book_botton\" to=\"/\">\n              Назад\n            </Link>\n          </Route>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport './style.scss';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\"> \n      <div className=\"row justify-content-center align-items-center\">\n        <div className=\"col lg-auto\">\n        <div className=\"title\">Тестовое задание для Лабораториии Касперского</div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./style.scss\";\n\nfunction BookList() {\n  const history = useHistory();\n  const [books, setBooks] = useState(\n    JSON.parse(window.localStorage.getItem(\"books\"))\n      ? JSON.parse(window.localStorage.getItem(\"books\"))\n      : []\n  );\n  const [sortBy, setSortBy] = useState(\n    JSON.parse(window.localStorage.getItem(\"sort_type\"))\n      ? JSON.parse(window.localStorage.getItem(\"sort_type\"))\n      : \"book_name ↓\"\n  );\n\n  function deleteBook(id) {\n    const bookToBeDeleted = books.find((book) => book.id === id);\n    const bookIndex = books.indexOf(bookToBeDeleted);\n    const newBookList = [...books];\n    newBookList.splice(bookIndex, 1);\n    window.localStorage.setItem(\"books\", JSON.stringify(newBookList));\n    setBooks(newBookList);\n  }\n\n  function sort(sort_type) {\n    setSortBy(sort_type);\n    const sortValues = sort_type.split(\" \");\n    const newBooksList = [...books];\n    let sortBooksList = [];\n\n    if (sortValues[0] === \"year_of_publishing\") {\n      if (sortValues[1] === \"↓\") {\n        sortBooksList = newBooksList.sort((a, b) => {\n          return a[sortValues[0]] - b[sortValues[0]]\n\n        });\n      }\n      if (sortValues[1] === \"↑\") {\n        sortBooksList = newBooksList.sort((a, b) => {\n          return b[sortValues[0]] - a[sortValues[0]]\n\n        });\n      }\n    }\n\n    if (sortValues[0] !== \"year_of_publishing\") {\n      if (sortValues[1] === \"↓\") {\n        sortBooksList = newBooksList.sort((a, b) => {\n          if (a[sortValues[0]][0] < b[sortValues[0]][0]) return -1;\n          if (a[sortValues[0]][0] > b[sortValues[0]][0]) return 1;\n          return 0;\n        });\n      }\n      if (sortValues[1] === \"↑\") {\n        sortBooksList = newBooksList.sort((a, b) => {\n          if (a[sortValues[0]][0] > b[sortValues[0]][0]) return -1;\n          if (a[sortValues[0]][0] < b[sortValues[0]][0]) return 1;\n          return 0;\n        });\n      }\n    }\n\n    window.localStorage.setItem(\"sort_type\", JSON.stringify(sort_type));\n    setBooks(sortBooksList);\n  }\n\n  useEffect(() => {\n    sort(sortBy);\n  }, [sortBy]);\n\n  return (\n    <>\n      <div className=\"main_page\">\n        <h1>Список книг</h1>\n        <div className=\"sort\">\n          Сортировать по\n          <select\n            onChange={(e) => sort(e.target.value)}\n            className=\"custom-select\"\n          >\n            <option selected={sortBy === \"book_name ↓\"} value=\"book_name ↓\">\n              Названию ↓\n            </option>\n            <option selected={sortBy === \"book_name ↑\"} value=\"book_name ↑\">\n              Названию ↑\n            </option>\n            <option selected={sortBy === \"autors ↓\"} value=\"autors ↓\">\n              Автору ↓\n            </option>\n            <option selected={sortBy === \"autors ↑\"} value=\"autors ↑\">\n              Автору ↑\n            </option>\n            <option\n              selected={sortBy === \"year_of_publishing ↓\"}\n              value=\"year_of_publishing ↓\"\n            >\n              Дате публикации ↓\n            </option>\n            <option\n              selected={sortBy === \"year_of_publishing ↑\"}\n              value=\"year_of_publishing ↑\"\n            >\n              Дате публикации ↑\n            </option>\n          </select>\n        </div>\n        <div className=\"card_list\">\n          {books.map((book) => {\n            return (\n              <div key={book.id} id={book.id} className=\"book_card\">\n                <div className=\"row\">\n                  <div className=\"col-md-4\">\n                    <div className=\"image_container\">\n                      <img\n                        src={book.book_image}\n                        alt=\"book_image\"\n                        onError={() =>\n                          console.log(`${book.book_name} не загружается`)\n                        }\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-md-8\">\n                    <span>\n                      <b>Книга:</b> {book.book_name}\n                    </span>\n                    <br />\n                    <span>\n                      <b>Автор:</b> {book.autors}\n                    </span>\n                    <br />\n                    <span>\n                      <b>Кол-во страниц:</b> {book.page_number}\n                    </span>\n                    <br />\n                    <span>\n                      <b>Издательство:</b> {book.publisher_name}\n                    </span>\n                    <br />\n                    <span>\n                      <b>Год издания:</b> {book.year_of_publishing}\n                    </span>\n                    <br />\n                    <button\n                      onClick={() => history.push(`/edit_book${book.id}`)}\n                      className=\"btn btn-outline-warning\"\n                    >\n                      Изменть\n                    </button>\n                    <button\n                      onClick={() => {\n                        deleteBook(book.id);\n                      }}\n                      className=\"btn btn-outline-danger\"\n                    >\n                      Удалить\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default BookList;\n","export default __webpack_public_path__ + \"static/media/book.55abcabb.jpg\";","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport {useHistory} from 'react-router-dom';\nimport \"./style.scss\";\n\nfunction Modal({ setModalVisible, message }) {\n\n  const history = useHistory();\n\n  function close() {\n    setModalVisible(false);\n  }\n\n  function toBookList() {\n    history.push('/')\n  }\n\n  return ReactDom.createPortal(\n    <>\n      <div className=\"modal_background\">\n        <div className=\"modal_window\">\n\n          <div className=\"row justify-content-center \">\n            <h2 className=\"massage\">{message}</h2>\n          </div>\n\n          <div className=\"row justify-content-center\">\n            <button\n              className=\"btn btn-primary btn-sm add_book_botton\"\n              type=\"button\"\n              onClick={close}\n            >\n              OK\n            </button>\n\n            <button\n              className=\"btn btn-primary btn-sm add_book_botton\"\n              type=\"button\"\n              onClick={toBookList}\n            >\n              К списку книг\n            </button>\n\n          </div>\n        </div>\n      </div>\n    </>,\n    document.getElementById(\"portal\")\n  );\n}\nexport default Modal;\n","import React, { useState } from \"react\";\nimport book from \"../../images/book.jpg\";\nimport Modal from \"../Modal\";\nimport \"./style.scss\";\n\nfunction AddBook() {\n  const initialInputs = {\n    book_name: \"\",\n    autors: \"\",\n    page_number: \"\",\n    publisher_name: \"\",\n    year_of_publishing: \"\",\n    book_image: \"\",\n  };\n  const [inputs, setInputs] = useState(initialInputs);\n  const {\n    book_name,\n    autors,\n    page_number,\n    publisher_name,\n    year_of_publishing,\n    book_image,\n  } = inputs;\n  const year = new Date().getFullYear();\n  const [error, setError] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [isImageLoad, setIsImageLoad] = useState(false);\n\n  function changeInputValue({ target: { name, value } }) {\n    setError(null);\n    setInputs({ ...inputs, [name]: value });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let errors = 0;\n\n    if (inputs.autors.split(' ').length%2 !== 0) {\n      errors++;\n      setError(\"Введите Имя и Фамилю автора через пробел\");\n    }\n\n    if (inputs.autors.split(' ').find(word => word.length > 20)) {\n      errors++;\n      setError(\"Имя или Фамилия не должны быть длиннее 20 символов\");\n    }\n\n    if (errors === 0) {\n      const data = JSON.parse(window.localStorage.getItem(\"books\"));\n      const books = data ? data : [];\n      const id = new Date()\n        .toJSON()\n        .replace(/-/g, \"\")\n        .replace(/:/g, \"\")\n        .replace(/\\./g, \"\");\n      books.push({ ...inputs, id: id });\n      window.localStorage.setItem(\"books\", JSON.stringify(books));\n      setInputs(initialInputs);\n      setModalVisible(true);\n    }\n  };\n\n  return (\n    <>\n      {modalVisible && (\n        <Modal\n          setModalVisible={setModalVisible}\n          message={\"Книга успешно добавлена\"}\n        />\n      )}\n      <div className=\"add_book_page\">\n        <h1>Добавить книгу</h1>\n        <form onSubmit={handleSubmit} className=\"add_book_form\">\n          <label>\n            Название книги\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: Война и мир\"\n              type=\"text\"\n              name=\"book_name\"\n              onChange={(e) => changeInputValue(e)}\n              value={book_name}\n              maxlength={30}\n            />\n          </label>\n\n          <label>\n            Автор книги\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: Лев Толстой (Если авторов несколько, введите их через запятую)\"\n              type=\"text\"\n              name=\"autors\"\n              onChange={(e) => changeInputValue(e)}\n              value={autors}\n            />\n          </label>\n\n          <label>\n            Количесво страниц\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: 850\"\n              type=\"number\"\n              name=\"page_number\"\n              onChange={(e) => changeInputValue(e)}\n              value={page_number}\n              min={1}\n              max={10000}\n            />\n          </label>\n\n          <label>\n            Название издательства\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: Просвещение\"\n              type=\"text\"\n              name=\"publisher_name\"\n              onChange={(e) => changeInputValue(e)}\n              value={publisher_name}\n              maxlength={30}\n            />\n          </label>\n\n          <label>\n            Год издательства\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: 1920\"\n              type=\"number\"\n              name=\"year_of_publishing\"\n              onChange={(e) => changeInputValue(e)}\n              value={year_of_publishing}\n              min={1800}\n              max={year}\n            />\n          </label>\n\n          <label>\n            Обложка\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: https://html5book.ru/wp-content/uploads/2017/05/krasivaya_forma_html.jpg\"\n              type=\"text\"\n              name=\"book_image\"\n              onChange={(e) => changeInputValue(e)}\n              value={book_image}\n            />\n          </label>\n\n          <div className=\"row justifu-content-center align-items-center\">\n            <div className=\"col-md-4\">\n              {isImageLoad ? (\n                <>\n                  <img className=\"book\" src={book_image} alt=\"book_image\" />\n                </>\n              ) : (\n                <>\n                  <img className=\"book\" src={book} alt=\"book_image\" />\n                </>\n              )}\n            </div>\n            <div className=\"col-md-8\">\n              <button type=\"submit\" className=\"btn btn-success\">\n                Добавить\n              </button>\n            </div>\n          </div>\n\n          {error && <p className=\"error\">Ошибка: {error}</p>}\n        </form>\n        <img\n          onLoad={() => setIsImageLoad(true)}\n          onError={() => setIsImageLoad(false)}\n          hidden={true}\n          src={book_image}\n          alt=\"book_image\"\n        />\n      </div>\n    </>\n  );\n}\n\nexport default AddBook;\n","import React, { useState, useEffect } from \"react\";\nimport book from \"../../images/book.jpg\";\n\nimport Modal from \"../Modal\";\nimport { useParams } from \"react-router-dom\";\nimport \"./style.scss\";\n\nfunction EditBook() {\n  const { id } = useParams();\n\n  const [inputs, setInputs] = useState({\n    book_name: \"\",\n    autors: \"\",\n    page_number: \"\",\n    publisher_name: \"\",\n    year_of_publishing: \"\",\n    book_image: \"\",\n  });\n\n  const {\n    book_name,\n    autors,\n    page_number,\n    publisher_name,\n    year_of_publishing,\n    book_image,\n  } = inputs;\n  const year = new Date().getFullYear();\n  const [modalVisible, setModalVisible] = useState(false);\n  const [error, setError] = useState(null);\n  const [isImageLoad, setIsImageLoad] = useState(false);\n\n\n  useEffect(() => {\n    const editableBook = JSON.parse(window.localStorage.getItem(\"books\")).find(\n      (book) => book.id === id\n    );\n    setInputs(editableBook);\n  }, [id]);\n\n  function changeInputValue({ target: { name, value } }) {\n    setError(null);\n    setInputs({ ...inputs, [name]: value });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let errors = 0;\n\n    if (inputs.autors.split(' ').length%2 !== 0) {\n      errors++;\n      setError(\"Введите Имя и Фамилю автора через пробел\");\n    }\n\n    if (inputs.autors.split(' ').find(word => word.length > 20)) {\n      errors++;\n      setError(\"Имя или Фамилия не должны быть длиннее 20 символов\");\n    }\n\n    if (errors === 0) {\n      const books = JSON.parse(window.localStorage.getItem(\"books\"));\n      const EditableBook = books.find((book) => book.id === id);\n      const indexEditableBook = books.indexOf(EditableBook);\n      books.splice(indexEditableBook, 1, inputs);\n      window.localStorage.setItem(\"books\", JSON.stringify(books));\n      setModalVisible(true);\n    }\n  };\n\n  return (\n    <>\n      {modalVisible && (\n        <Modal\n          setModalVisible={setModalVisible}\n          message={\"Изменения успешно внесены\"}\n        />\n      )}\n      <div className=\"add_book_page\">\n        <h1>Редактор книг</h1>\n        <span>Книга - {id}</span>\n        <form onSubmit={handleSubmit} className=\"add_book_form\">\n          <label>\n            Название книги\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: Война и мир\"\n              type=\"text\"\n              name=\"book_name\"\n              onChange={(e) => changeInputValue(e)}\n              value={book_name}\n              maxlength={30}\n            />\n          </label>\n\n          <label>\n            Автор книги\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: Лев Толстой (Если авторов несколько, введите их через запятую)\"\n              type=\"text\"\n              name=\"autors\"\n              onChange={(e) => changeInputValue(e)}\n              value={autors}\n            />\n          </label>\n\n          <label>\n            Количесво страниц\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: 850\"\n              type=\"number\"\n              name=\"page_number\"\n              onChange={(e) => changeInputValue(e)}\n              value={page_number}\n              min={1}\n              max={10000}\n            />\n          </label>\n\n          <label>\n            Название издательства\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: Просвещение\"\n              type=\"text\"\n              name=\"publisher_name\"\n              onChange={(e) => changeInputValue(e)}\n              value={publisher_name}\n              maxlength={30}\n            />\n          </label>\n\n          <label>\n            Год издательства\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: 1920\"\n              type=\"number\"\n              name=\"year_of_publishing\"\n              onChange={(e) => changeInputValue(e)}\n              value={year_of_publishing}\n              min={1800}\n              max={year}\n            />\n          </label>\n\n          <label>\n            Обложка\n            <input\n              required\n              className=\"form-control form-control-sm\"\n              placeholder=\"Например: https://html5book.ru/wp-content/uploads/2017/05/krasivaya_forma_html.jpg\"\n              type=\"text\"\n              name=\"book_image\"\n              onChange={(e) => changeInputValue(e)}\n              value={book_image}\n            />\n          </label>\n\n          <div className=\"row justifu-content-center align-items-center\">\n            <div className=\"col-md-4\">\n              {isImageLoad ? (\n                <>\n                  <img className=\"book\" src={book_image} alt=\"book_image\" />\n                </>\n              ) : (\n                <>\n                  <img className=\"book\" src={book} alt=\"book_image\" />\n                </>\n              )}\n            </div>\n            <div className=\"col-md-8\">\n              <button type=\"submit\" className=\"btn btn-success\">\n              Сохранить\n              </button>\n            </div>\n          </div>\n\n          {error && <p className=\"error\">Ошибка: {error}</p>}\n        </form>\n        <img\n          onLoad={() => setIsImageLoad(true)}\n          onError={() => setIsImageLoad(false)}\n          hidden={true}\n          src={book_image}\n          alt=\"book_image\"\n        />\n      </div>\n    </>\n  );\n}\n\nexport default EditBook;\n","export const START_LOADING = 'START_LOADING';\nexport const SUCCESSFUL_LOADING = 'SUCCESSFUL_LOADING ';\nexport const LOADING_ERROR = 'LOADING_ERROR';\n","import {\n    START_LOADING,\n    SUCCESSFUL_LOADING,\n    LOADING_ERROR,\n} from '../actionTypes';\n\nconst init = {\n    data: null,\n    error: null,\n    loading: false,\n}\n\nexport default function reducer(state = init, action) {\n    switch (action.type) {\n\n        case START_LOADING:\n            return {\n                ...state,\n                data: null,\n                error: null,\n                loading: true,\n\n            }\n\n        case SUCCESSFUL_LOADING:\n            return {\n                ...state,\n                data: action.payload,\n                error: null,\n                loading: false,\n            }\n\n        case LOADING_ERROR:\n            return {\n                ...state,\n                data: null,\n                error: action.payload,\n                loading: false,\n            }\n\n        default:\n            return state;\n    }\n}","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport mainReducer from \"./reducers/mainReducer\";\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(\n  combineReducers({\n    main: mainReducer,\n  }),\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nexport default store;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport BookList from \"./components/BookList\";\nimport AddBook from \"./components/AddBook\";\nimport EditBook from \"./components/EditBook\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"./styles/main.scss\";\n\nfunction App() {\n  return (\n    <>\n      <Provider store={store}>\n        <Router>\n        <Header />\n            <section className=\"container\">\n          <Switch>\n              <Route exact path=\"/add_book\" component={AddBook} />\n              <Route exact path=\"/edit_book:id\" component={EditBook} />\n              <Route exact path=\"/\" component={BookList} />\n          </Switch>\n            </section>\n        <Footer />\n        </Router>\n      </Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}